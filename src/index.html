<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Ego Manager</title>
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.css" />
    <link rel="stylesheet" href="app.css" />
    <script>
        window.$ = window.jQuery = require('jquery');
        require('jquery-ui-dist/jquery-ui');
        window.Bootstrap = require('bootstrap');
    </script>
    <link rel="stylesheet" href="node_modules/jquery-ui-dist/jquery-ui.min.css" />
    <link rel="stylesheet" href="bootstrap.css" />
    <script src="view.js"></script>
    <script src="knockout-sortable.js"></script>
    <script src="knockout-mapping-plugin.js"></script>
</head>

<body>
    <div class="container-fluid">
        <!--Top nav-->
        <div class="row">
            <div class="col-md-12">
                <ul class="nav nav-tabs justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#configBuilder">Configuration Builder
                            &nbsp;&nbsp;
                            <i data-toggle="tooltip"
                                data-bind="click: absolutePaths.bind($data, !absolutePaths()), class: absolutePathsClass"
                                title="Click to switch between absolute and relative paths"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#fileDB">
                            File Database &nbsp;&nbsp;
                            <i data-toggle="tooltip" data-bind="click: loadCollections.bind($data, true)"
                                title="Click to reload files" class="fa fa-refresh"></i>
                            &nbsp;&nbsp;
                            <i
                                data-bind="class: showHiddenFiles()?'fa fa-eye-slash':'fa fa-eye', click: showHiddenFiles.bind($data, !showHiddenFiles()), tooltip: showHiddenFiles()?'Hide Hidden Files':'Show Hidden Files'"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#info">Info/Debug</a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="tab-content row">
            <!--Configuration Builder-->
            <div class="col-md-12 tab-pane fade active show" id="configBuilder">
                <!--Run Button-->
                <div class="row">
                    <div class="col-md-12 border border-primary btn btn-xs btn-primary fa fa-play text-responsive"
                        data-bind="click: runCurrentConfig" data-toggle="tooltip" title="Run Current Configuration">
                    </div>
                </div>
                <!--Generated Command-->
                <div class="row">
                    <div class="col-md-12 border border-info" style="padding: 0px;">
                        <textarea class="form-control"
                            style="height: 100%; overflow: hidden; resize: none; font-family: 'Ubuntu-Mono'; padding: 0px;"
                            readonly="true" placeholder="Generated Command Here"
                            data-bind="textInput: generatedCommand, autoResize: generatedCommand"></textarea>
                    </div>
                </div>
                <!--All ConfigChain options-->
                <div class="row">
                    <!--Configchain Saving/Loading options-->
                    <div class="col-md-3 border border-secondary">
                        <!--Config Chain previous configs-->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div style="margin-top: 10px" class="form-group">
                                    <label class="control-label" for="previousConfigs" data-toggle="tooltip"
                                        title="Previously-run configurations will appear here.">
                                        Previous Config Chains
                                    </label>
                                    <select id="previousConfigs" class="form-control"
                                        data-bind="options: previousConfigChains, optionsText: 'displayName', optionsValue:'id', value: chosenPreviousConfig, optionsCaption: 'Select from previous 50 configs'"></select>
                                </div>
                            </div>
                        </div>
                        <!--Config Chain save dialogs-->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div style="margin-top: 10px" class="form-group">
                                    <label class="control-label" for="configName" data-toggle="tooltip"
                                        title="A human-readable name for your configuration chain.">
                                        Config Chain Name
                                    </label>
                                    <input id="configName" type="text" class="form-control"
                                        data-bind="textInput: currentConfig().configName" placeholder="Config Name" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="configDescription" data-toggle="tooltip"
                                        title="Some sort of description as to what your configuration chain is doing.">
                                        Config Chain Description
                                    </label>
                                    <textarea id="configDescription" class="form-control" rows="2"
                                        placeholder="Config Description"
                                        data-bind="textInput: currentConfig().configDescription">
                                    </textarea>
                                </div>
                                <div class="form-group">
                                    <span style="width: 74%" class="btn btn-xs btn-primary fa fa-save"
                                        data-bind="click: saveCurrentConfig" data-toggle="tooltip"
                                        title="Save current configuration"></span>
                                    <span style="width: 24%" class="btn btn-xs btn-danger fa fa-trash"
                                        data-bind="click: loadDefaultConfig" data-toggle="tooltip"
                                        title="Clear current configuration and reset to default"></span>
                                </div>
                            </div>
                        </div>
                        <!--Config Chain Search-->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div style="margin-top: 10px" class="form-group">
                                    <input type="text" class="form-control" placeholder="Search Config Chains"
                                        data-bind="textInput: configSearch, event: { keyup: findConfig()}" />
                                    <div class="list-group" data-bind="foreach: configChains">
                                        <div class="list-group-item list-group-item-action clearfix"
                                            data-placement="right" data-html="true">
                                            <div class="text-truncate" data-bind="text: configName"></div>
                                            <div>
                                                <span style="width: 32%"
                                                    class="btn btn-xs btn-secondary fa fa-arrow-circle-up"
                                                    data-toggle="tooltip" title="Load Config"
                                                    data-bind="click: $parent.loadConfig">
                                                </span>
                                                <span style="width: 32%" class="btn btn-xs btn-secondary fa fa-copy"
                                                    data-toggle="tooltip" title="Clone Config"
                                                    data-bind="click: $parent.cloneConfig"></span>
                                                <span style="width: 32%" class="btn btn-xs btn-danger fa fa-remove"
                                                    data-toggle="tooltip" title="Delete Config"
                                                    data-bind="click: $parent.deleteConfig"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Everything Else-->
                    <div class="col-md-9 border border-secondary">
                        <!--select: sourceport, ini file, iwad, map, skill-->
                        <div class="row">
                            <div class="col-md-4 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div style="margin-top: 10px" class="form-group">
                                            <label class="control-label" for="sourceportSelect" data-toggle="tooltip"
                                                title="Choose from the sourceports you loaded in file database.">
                                                Select Your Sourceport/Engine
                                            </label>
                                            <select id="sourceportSelect" class="form-control"
                                                data-bind="options: files.sourceports, optionsText: 'displayName', value: currentConfig().sourceport, optionsValue: 'filepath', optionsCaption: 'Choose Sourceport'"></select>

                                        </div>
                                        <div class="form-group">
                                            <label class="control-label" for="iniSelect" data-toggle="tooltip"
                                                title="If you created your own custom ini file that you'd like to use, place it in the same directory as the sourceport.  If you don't know what this is, then just leave this as default.">
                                                Select your Ini Config
                                            </label>
                                            <select id="iniSelect" class="form-control"
                                                data-bind="options: iniFiles, optionsText: 'filename', value: currentConfig().chosenIniFile, optionsValue: 'filepath', optionsCaption: 'Choose Ini File'"></select>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div style="margin-top: 10px;" class="form-group">
                                            <label class="control-label" for="iwadSelect" data-toggle="tooltip"
                                                title="Choose which game you'd like to play.  These are loaded from the file database.">
                                                Select your Iwad/Game
                                            </label>
                                            <select id="iwadSelect" class="form-control"
                                                data-bind="options: files.iwads, optionsText: 'displayName', optionsValue: 'filepath', value: currentConfig().iwad, optionsCaption: 'Choose Iwad'"></select>
                                        </div>
                                        <div style="margin-top: 10px;" class="form-group">
                                            <label class="control-label" for="negativeSpace">Please select your
                                                sourceport and iwad before choosing a skill or level</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div style="margin-top: 10px;" class="form-group">
                                            <label class="control-label" for="skillSelect" data-toggle="tooltip"
                                                title="Use in conjunction with Map Warping, this sets the difficulty level, with 1 being the easiest and 5 being the hardest.">
                                                Select your skill level/difficulty
                                            </label>
                                            <select id="skillSelect" class="form-control"
                                                data-bind="options: skillLevels, optionsText: 'name', optionsValue:'skillLevel', value: currentConfig().skill, optionsCaption: 'Choose Skill Level'"></select>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label" for="mapInput" data-toggle="tooltip"
                                                title="Leave this blank if you'd like to start the game from the beginning.  Otherwise, choose a level to warp to.">
                                                Warp to map/level
                                            </label>
                                            <input id="mapInput" type="text" class="form-control"
                                                placeholder="Select Map"
                                                data-bind="jqAuto: {autoFocus: true}, jqAutoSource: levels, jqAutoValue: currentConfig().level, jqAutoSourceLabel: 'displayName', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'warptext'" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--Pwad Selection-->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h5>
                                            <a href="#" data-toggle="collapse" data-target="#pwadStuff">PWads/Mods
                                                Selection</a>
                                        </h5>
                                    </div>
                                </div>
                                <div class="row collapse show" id="pwadStuff">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-6">
                                                Available Pwads
                                            </div>
                                            <div class="col-md-6">
                                                Chosen Pwads
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!--pwad selector-->
                                            <div class="col-md-6 border border-secondary"
                                                data-bind="sortable: { template: 'taskTmpl', data: availablePwads }">
                                            </div>
                                            <div class="col-md-6 border border-secondary"
                                                data-bind="sortable: { template: 'taskTmpl', data: currentConfig().pwads }">
                                            </div>
                                            <script id="taskTmpl" type="text/html"><div class="item">
                                                        <span>
                                                           <a href="#" class="nav-link" data-bind="text: displayName"></a>
                                                       </span> 
                                                   </div></script>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                        <!--multiplayer options -->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h5>
                                            <a href="#" data-toggle="collapse"
                                                data-target="#multiplayerStuff">Multiplayer Options</a>
                                        </h5>
                                    </div>
                                </div>
                                <div class="row collapse show" id="multiplayerStuff">
                                    <div data-bind="hidden: !currentConfig().sourceport()"
                                        class="col-md-12 border border-secondary">
                                        <ul class="nav nav-tabs">
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Multiplayer">
                                                    Multiplayer
                                                </a>
                                            </li>
                                            <li class="nav-item"
                                                data-bind="hidden: (currentConfig().sourceport()&&getSourceport(currentConfig().sourceport()).sourceportBasetype()==='Chocolate')">
                                                <a class="nav-link" data-toggle="tab" href="#DMFlags">
                                                    DMFlags
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Networking">
                                                    Networking
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane active" id="Multiplayer"
                                                data-bind="foreach: currentConfig().sourceportConfigs.multiplayer">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:command==='-host'||command==='-server'?name+'. Send your players this address to connect to: '+$parent.multiplayerAddress():name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="DMFlags">
                                                <ul class="nav nav-tabs">
                                                    <li class="nav-item">
                                                        <a class="nav-link" data-toggle="tab" href="#flags1">
                                                            DMFlags
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link" data-toggle="tab" href="#flags2">
                                                            DMFlags2
                                                        </a>
                                                    </li>
                                                    <li class="nav-item"
                                                        data-bind="visible: (currentConfig().sourceport()&&getSourceport(currentConfig().sourceport()).sourceportBasetype()==='Zandronum')">
                                                        <a class="nav-link" data-toggle="tab" href="#zadmflags">
                                                            ZADMFlags
                                                        </a>
                                                    </li>
                                                    <li class="nav-item"
                                                        data-bind="visible: (currentConfig().sourceport()&&getSourceport(currentConfig().sourceport()).sourceportBasetype()==='Zandronum')">
                                                        <a class="nav-link" data-toggle="tab" href="#compatflags">
                                                            CompatFlags
                                                        </a>
                                                    </li>
                                                    <li class="nav-item"
                                                        data-bind="visible: (currentConfig().sourceport()&&getSourceport(currentConfig().sourceport()).sourceportBasetype()==='Zandronum')">
                                                        <a class="nav-link" data-toggle="tab" href="#zacompatflags">
                                                            ZACompatFlags
                                                        </a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content">
                                                    <div class="tab-pane active" id="flags1"
                                                        data-bind="foreach: currentConfig().dmFlags">
                                                        <!-- ko if: command==='dmflags' -->
                                                        <div class="form-group">
                                                            <input type="checkbox"
                                                                data-bind="checked: enabled, uniqueId: enabled" />
                                                            <label class="control-label" data-toggle="tooltip"
                                                                data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                        </div>
                                                        <!-- /ko -->
                                                    </div>
                                                    <div class="tab-pane fade" id="flags2"
                                                        data-bind="foreach: currentConfig().dmFlags">
                                                        <!-- ko if: command==='dmflags2' -->
                                                        <div class="form-group">
                                                            <input type="checkbox"
                                                                data-bind="checked: enabled, uniqueId: enabled" />
                                                            <label class="control-label" data-toggle="tooltip"
                                                                data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                        </div>
                                                        <!-- /ko -->
                                                    </div>
                                                    <div class="tab-pane fade" id="zadmflags"
                                                        data-bind="foreach: currentConfig().dmFlags">
                                                        <!-- ko if: command==='zadmflags' -->
                                                        <div class="form-group">
                                                            <input type="checkbox"
                                                                data-bind="checked: enabled, uniqueId: enabled" />
                                                            <label class="control-label" data-toggle="tooltip"
                                                                data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                        </div>
                                                        <!-- /ko -->
                                                    </div>
                                                    <div class="tab-pane fade" id="compatflags"
                                                        data-bind="foreach: currentConfig().dmFlags">
                                                        <!-- ko if: command==='compatflags' -->
                                                        <div class="form-group">
                                                            <input type="checkbox"
                                                                data-bind="checked: enabled, uniqueId: enabled" />
                                                            <label class="control-label" data-toggle="tooltip"
                                                                data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                        </div>
                                                        <!-- /ko -->
                                                    </div>
                                                    <div class="tab-pane fade" id="zacompatflags"
                                                        data-bind="foreach: currentConfig().dmFlags">
                                                        <!-- ko if: command==='zacompatflags' -->
                                                        <div class="form-group">
                                                            <input type="checkbox"
                                                                data-bind="checked: enabled, uniqueId: enabled" />
                                                            <label class="control-label" data-toggle="tooltip"
                                                                data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                        </div>
                                                        <!-- /ko -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Networking"
                                                data-bind="foreach: currentConfig().sourceportConfigs.networking">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 border border-secondary"
                                        data-bind="hidden: currentConfig().sourceport()">
                                        Choose a sourceport to see multiplayer
                                        configuration options.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--Sourceport Configs-->
                        <div class="row">
                            <div class="col-md-12 border border-secondary">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h5>
                                            <a href="#" data-toggle="collapse" data-target="#configStuff">Configuration
                                                Options</a>
                                        </h5>
                                    </div>
                                </div>
                                <div class="row collapse show" id="configStuff">
                                    <div data-bind="visible: currentConfig().sourceport()"
                                        class="col-md-12 border border-secondary">
                                        <!-- Configuration selection-->
                                        <ul class="nav nav-tabs">
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Config">
                                                    Config
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Display">
                                                    Display
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Gameplay">
                                                    Gameplay
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Recording">
                                                    Recording
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Advanced">
                                                    Advanced
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#Debug">
                                                    Debug
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane active" id="Config"
                                                data-bind="foreach: currentConfig().sourceportConfigs.config">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Display"
                                                data-bind="foreach: currentConfig().sourceportConfigs.display">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Gameplay"
                                                data-bind="foreach: currentConfig().sourceportConfigs.gameplay">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Recording"
                                                data-bind="foreach: currentConfig().sourceportConfigs.recording">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Advanced"
                                                data-bind="foreach: currentConfig().sourceportConfigs.advanced">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="Debug"
                                                data-bind="foreach: currentConfig().sourceportConfigs.debug">
                                                <div class="form-group">
                                                    <input type="checkbox"
                                                        data-bind="checked: enabled, uniqueId: enabled" />
                                                    <label class="control-label" data-toggle="tooltip"
                                                        data-bind="tooltip: description, uniqueFor:enabled, text:name"></label>
                                                    <!-- ko if: inputType==='text' -->
                                                    <input type="text" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='number' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='range' -->
                                                    <input type="number" class="form-control"
                                                        data-bind="textInput: value, attr: {min: valueRange.min, max: valueRange.max}" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='select' -->
                                                    <select class="form-control"
                                                        data-bind="options: valueset, optionsText: 'text', optionsValue:'value', value: value, optionsCaption: 'Choose...'"></select>
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='file' -->
                                                    <input type="file" class="form-control" data-bind="file: value" />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='directory' -->
                                                    <input type="file" class="form-control" data-bind="directory: value"
                                                        webkitdirectory directory multiple />
                                                    <!-- /ko -->
                                                    <!-- ko if: inputType==='files' -->
                                                    <input type="file" class="form-control" data-bind="files: value"
                                                        multiple />
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 border border-secondary"
                                        data-bind="hidden: currentConfig().sourceport()">
                                        Choose a sourceport to see configuration options.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--File DB-->
            <div class="col-md-12 tab-pane fade" id="fileDB">
                <div class="row">
                    <!--File list/search-->
                    <div class="col-md-4 border border-secondary">
                        <ul class="nav nav-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" data-bind="click: clearFileEdit()"
                                    href="#Iwads">
                                    Iwads
                                    <sup data-toggle="tooltip"
                                        title="Iwads are the actual game's binaries, usually stored in a .wad file, but sometimes stored in a .pk3 file. This is where you'd put your Doom, Doom 2, Heretic, Hexen, etc. games">
                                        ?
                                    </sup>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" data-bind="click: clearFileEdit()" href="#Pwads">
                                    Pwads
                                    <sup data-toggle="tooltip"
                                        title="Pwads, or 'Patch Wads' are mods.  These could be levels, music, gameplay... these are loaded alongside an iwad.  File extensions include .wad, .deh, .bex, and .pk3">
                                        ?
                                    </sup>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" data-bind="click: clearFileEdit()"
                                    href="#Sourceports">
                                    Sourceports
                                    <sup data-toggle="tooltip"
                                        title="The engine that runs an iwad (along with, optionally, pwads).">
                                        ?
                                    </sup>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="Iwads">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Search..."
                                        data-bind="textInput: iwadSearch, event: { keyup: findIwad()}" />
                                </div>
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="d-flex">
                                            <th class="col-10">Iwad</th>
                                            <th class="col-2"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: files.iwads">
                                        <tr class="d-flex"
                                            data-bind="class: displayClass, style: { visibility : $parent.showHiddenFiles()===false && hidden()===true ? 'collapse' : ''}">
                                            <td class="col-10 text-truncate" data-placement="right" data-html="true"
                                                data-bind="text: displayName, click: $parent.editFile.bind($data, filetype, $index)">
                                            </td>
                                            <td class="col-2">
                                                <span class="btn btn-xs btn-secondary"
                                                    data-bind="click: hideFile, class: hideFileClass, tooltip: hideTooltipText()"
                                                    aria-hidden="true"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div data-bind="hidden: files.iwads().length>0 || iwadsAllHidden()==false">
                                    No Iwads to display. It could be due to your search criteria, hidden files
                                    (you
                                    can click "show hidden files" to see them), or if you just copied files into
                                    the
                                    idTech folder, click the File Database tab to reload.
                                </div>
                            </div>
                            <div class="tab-pane fade" id="Pwads">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Search..."
                                        data-bind="textInput: pwadSearch, event: { keyup: findPwad()}" />
                                </div>
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="d-flex">
                                            <th class="col-10">Pwad</th>
                                            <th class="col-2"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: files.pwads">
                                        <tr class="d-flex"
                                            data-bind="class: displayClass, style: { visibility : $parent.showHiddenFiles()===false && hidden()===true ? 'collapse' : ''}">
                                            <td class="col-10 text-truncate" data-placement="right" data-html="true"
                                                data-bind="text: displayName, click: $parent.editFile.bind($data, filetype, $index)">
                                            </td>
                                            <td class="col-2">
                                                <span class="btn btn-xs btn-secondary"
                                                    data-bind="click: hideFile, class: hideFileClass, tooltip: hideTooltipText()"
                                                    aria-hidden="true"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div data-bind="hidden: files.pwads().length>0 || pwadsAllHidden()==false">
                                    No Pwads to display. It could be due to your search criteria, hidden files
                                    (you
                                    can click "show hidden files" to see them), or if you just copied files into
                                    the
                                    idTech folder, click the File Database tab to reload.
                                </div>
                            </div>
                            <div class="tab-pane fade" id="Sourceports">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Search..."
                                        data-bind="textInput: sourceportSearch, event: { keyup: findSourceport()}" />
                                </div>
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="d-flex">
                                            <th class="col-10">Sourceport</th>
                                            <th class="col-2"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: files.sourceports">
                                        <tr class="d-flex"
                                            data-bind="class: displayClass, style: { visibility : $parent.showHiddenFiles()===false && hidden()===true ? 'collapse' : ''}">
                                            <td class="col-10 text-truncate" data-placement="right" data-html="true"
                                                data-bind="text: displayName, click: $parent.editFile.bind($data, filetype, $index)">
                                            </td>
                                            <td class="col-2">
                                                <span class="btn btn-xs btn-secondary"
                                                    data-bind="click: hideFile, class: hideFileClass, tooltip: hideTooltipText()"
                                                    aria-hidden="true"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div data-bind="hidden: files.sourceports().length>0 || sourceportsAllHidden()==false">
                                    No Sourceports to display. It could be due to your search criteria, hidden
                                    files
                                    (you can click "show hidden files" to see them), or if you just copied files
                                    into the idTech folder, click the File Database tab to reload.
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--File Edit-->
                    <div class="col-md-8 border border-secondary">
                        <form data-bind="with: chosenFile">
                            <h5>
                                File Type:
                                <span data-bind="text: filetype"></span>
                                &nbsp;&mdash;&nbsp;Filename:
                                <span data-bind="text: filename"></span>
                            </h5>
                            <div class="form-group">
                                <label class="control-label" for="inputFilename" data-placement="left"
                                    data-toggle="tooltip" title="A human readable name for your file.">
                                    Title
                                </label>
                                <div data-bind="hidden: nameValid" class="col alert alert-warning">
                                    <strong>Warning:</strong>
                                    You should provide a human-readable name for this file.
                                </div>
                                <input type="text" id="inputFilename" class="form-control"
                                    placeHolder="Human-readable name"
                                    data-bind="textInput: name, event: {blur: $parent.updateFile}" />
                            </div>
                            <div class="form-group" data-bind="visible: filetype()==='sourceport'">
                                <label class="control-label" for="sourceportFileType" data-placement="left"
                                    data-toggle="tooltip"
                                    title="This launcher has special support depending on the sourceport.  Selecting the right sourceport type here will greatly assist you later in building configurations based on that sourceport type.  Currently, the sourceport types this launcher supports are Zandronum, Chocolate Doom, and all ZDoom-based sourceports (e.g. GZDoom, QZDoom, or even plain ZDoom itself).">
                                    Sourceport Type
                                </label>
                                <select id="sourceportFileType" class="form-control"
                                    data-bind="options: $parent.sourceportTypes, event: {blur: $parent.updateFile}, value: sourceportBasetype, optionsCaption: 'Choose...'"></select>
                            </div>
                            <div class="form-group" data-bind="visible: filetype()==='iwad'">
                                <label class="control-label" for="iwadFileType" data-placement="left"
                                    data-toggle="tooltip"
                                    title="Selecting an IWad type from the known game types can help with some configuration options (such as selecting maps/levels)">
                                    IWad Type
                                </label>
                                <select class="form-control" id="iwadFileType"
                                    data-bind="options: $parent.iwadTypes, optionsText: 'description', event: {blur: $parent.updateFile}, value: iwadBasetype, optionsValue:'name', optionsCaption: 'Choose...'"></select>
                            </div>
                            <div class="form-group">
                                <label class="control-label" data-placement="left" for="inputAuthor"
                                    data-toggle="tooltip" title="Comma-separated list of authors.">
                                    Authors
                                </label>
                                <div data-bind="hidden: authorsValid" class="col alert alert-danger">
                                    <strong>Required:</strong>
                                    If you wish to use this file, you'll need to give credit to the person(s)
                                    who
                                    made it.
                                </div>
                                <input type="text" class="form-control" id="inputAuthor"
                                    placeholder="Author1,Author2,Author3,..."
                                    data-bind="textInput: authorInput, event: {blur: $parent.updateFile}" />
                            </div>
                            <div class="form-group">
                                <label class="control-label" data-placement="left" for="inputMeta" data-toggle="tooltip"
                                    title="Comma-separated list of meta tags (kinda like hash tags, they're ways to find this file).">
                                    Meta Tags
                                </label>
                                <div data-bind="hidden: metaTagsValid" class="col alert alert-warning">
                                    <strong>Warning:</strong>
                                    It's extremely helpful to have some tags to use so you can find this file
                                    more
                                    easily, both here and in the Configuration Builder.
                                </div>
                                <input type="text" class="form-control"
                                    placeholder="Music,Levels,Textures,Gameplay,etc..." id="inputMeta"
                                    data-bind="textInput: metaInput, event: {blur: $parent.updateFile}" />
                            </div>
                            <div class="form-group">
                                <label class="control-label" data-placement="left" for="inputSource"
                                    data-toggle="tooltip" title="Where did you find this file?">
                                    Source
                                </label>
                                <div data-bind="hidden: sourceValid" class="col alert alert-danger">
                                    <strong>Required:</strong>
                                    You'll need to post a link as to where you got this file, or where this file
                                    can
                                    be found.
                                </div>

                                <input type="text" class="form-control" id="inputSource"
                                    placeholder="http://somesite.com/someplace"
                                    data-bind="textInput: source, event: {blur: $parent.updateFile}" />
                            </div>
                            <div class="form-group">
                                <label class="control-label" data-placement="left" for="inputQuickDescription"
                                    data-toggle="tooltip"
                                    title="Just a quick description of the file, not very long.  Just something that pops up real quick so you know more about it.">
                                    Quick Description
                                </label>
                                <div data-bind="hidden: quickDescriptionValid" class="col alert alert-warning">
                                    <strong>Warning:</strong>
                                    You really should provide a nice quick description. When you hover over the
                                    file, it'll pop up helping you remember what it does.
                                </div>

                                <input type="text" class="form-control col"
                                    placeholder="This file adds levels, music, sounds, textures, gameplay, etc. changes."
                                    id="inputQuickDescription"
                                    data-bind="textInput: quickDescription, event: {blur: $parent.updateFile}" />
                            </div>
                            <div class="form-group">
                                <label class="control-label" data-placement="left" for="inputLongDescription"
                                    data-toggle="tooltip"
                                    title="Here's where you can basically go nuts in long detail about the file.  Most files have a .txt packaged with them... this is a great place to paste that content (if your file comes with a .txt file of the same name, it'll get autoloaded into this field for you)">
                                    Long Description
                                </label>
                                <textarea class="form-control" rows="20" id="inputLongDescription" placeholder="====== Blahblahblah=====
        This is very long
        oh my yes, this is going to be long.
        
        Hello?  You still here?  yeah, long stuff in here..."
                                    data-bind="textInput: longDescription, event: {blur: $parent.updateFile}"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!--Info-->
            <div class="col-md-12 tab-pane fade" id="info">
                <h1>Hello World!</h1>
                We are using node
                <span data-bind="text: nodeVersion"></span>
                <br />
                Chrome
                <span data-bind="text: chromeVersion"></span>
                <br />
                and Electron
                <span data-bind="text: electronVersion"></span>
                .
                <br />
                <br />
                You'll find the idTech folder in
                <span data-bind="text: idTechFolder"></span>
                <br />
                <a href="#" class="btn btn-secondary" data-bind="click: ()=>{ Allfiles([]); walk(idTechFolder)}">
                    Click to list all files
                </a>
                <br />
                Here's all the files:
                <br />
                <div data-bind="foreach:Allfiles">
                    <div data-bind="text: $data"></div>
                </div>
                <br />
                And just to reiterate, their directories are:
                <br />
                Sourceports:
                <span data-bind="text: sourceportDirectory"></span>
                <br />
                Iwads:
                <span data-bind="text: iwadDirectory"></span>
                <br />
                Pwads:
                <span data-bind="text: pwadDirectory"></span> <br />
                <div data-bind="visible: isDebug">
                    <pre data-bind="text: ko.toJSON($root, null, 2)"></pre>
                </div>
            </div>
        </div>
    </div>
</body>

</html>